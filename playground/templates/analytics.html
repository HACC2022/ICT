{% extends 'base.html' %}

{% block content %}

<style>
    .piechart {
      padding-top: 100px;
        display: flex;
        justify-content: center;
        margin-left: 180px;
        
    }
    .bargraph{
       padding-top: 100px;
        display: flex;
        justify-content: center;
        
        height: 500px;
        width: 1000px;
        margin: auto;
    }


    .paragraph{
      padding-top: 60px;
      padding-bottom: 50px;
      display: flex;
      justify-content: center;
    }
    
</style>
<div class="paragraph">
  <p>This pie chart shows a visualization of the amount of clicks that each shortened link has received.
    The more clicks a link has the more popular the link is.</p>

</div>

<div class="piechart">
    <canvas id="pie-chart" width="400" height="150"></canvas>
</div>


<div class="paragraph">
  <p>This bar chart shows a visualization of the URL status of Good, Pending, and Bad.
  </p>
</div>
<div class="bargraph">
  <canvas id="bar-chart" width="250" height="100"></canvas>
</div>

    

  
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>
    //Pie chart for visualizing click count data
    var config = {
      type: 'pie',
      data: {
        datasets: [{
          data: {{data|safe}},
          backgroundColor: [
          'rgba(255, 99, 132, 0.2)', 
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(75, 192, 192, 0.2)',
                            'rgba(153, 102, 255, 0.2)',
                            'rgba(255, 159, 64, 0.2)'
          ],
          borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)'
                        ],
                        borderWidth: 1,
          label: 'Click Count'
        }],
        labels: {{labels|safe}}
      },
      options: {
        responsive: true
      }
    };
    // Bar graph for visualizing link statuses  
    var statusGraph = {
      type: 'bar',
      data: {
        datasets: [{
          data: {{bardata|safe}},
          backgroundColor: [
          'rgba(255, 99, 132, 0.2)', 
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(75, 192, 192, 0.2)',
                            'rgba(153, 102, 255, 0.2)',
                            'rgba(255, 159, 64, 0.2)'
          ],

          borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)'
                        ],
                        borderWidth: 1,
          label: 'Url Health Status'
        }],
        labels: {{barlabels|safe}}
      },
      options: {
        responsive: true
      }
    };

    window.onload = function() {
      var ctx = document.getElementById('pie-chart').getContext('2d');
      window.myPie = new Chart(ctx, config);
      var ctxbar = document.getElementById('bar-chart').getContext('2d');
      window.bar = new Chart(ctxbar, statusGraph);
    
    };

  </script>

{% endblock %}

